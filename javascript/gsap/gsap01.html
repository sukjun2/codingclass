<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>gsap01</title>

        <style>
            * {
                margin: 0;
                padding: 0;
            }
            #contents > section {
                min-height: 90vh;
            }
            #section1 {
                background-image: linear-gradient(to top, #fad0c4 0%, #ffd1ff 100%);
            }
            #section2 {
                background-image: linear-gradient(to top, #a18cd1 0%, #fbc2eb 100%);
            }
            #section3 {
                background-image: linear-gradient(to top, #fbc2eb 0%, #a6c1ee 100%);
            }
            #section4 {
                background-image: linear-gradient(120deg, #e0c3fc 0%, #8ec5fc 100%);
            }
            #section5 {
                background-image: linear-gradient(to top, #a8edea 0%, #fed6e3 100%);
            }
            #section6 {
                background-image: linear-gradient(to top, #ebc0fd 0%, #d9ded8 100%);
            }
            .square {
                width: 200px;
                height: 200px;
                background-image: linear-gradient(to top, #209cff 0%, #68e0cf 100%);
            }
            .square.red {
                background-image: linear-gradient(to top, #f43b47 0%, #453a94 100%);
            }

            .panel {
                height: 100vh;
                background-color: beige;
            }
            .box {
                width: 100px;
                height: 100px;
                background-color: #5753c9;
            }
            .box-red {
                background-color: red;
            }

            nav {
                position: sticky;
                top: 0;
                transition: all 600ms ease-in-out;
                background-color: tan;
                color: #000;
                text-align: center;
            }
            li {
                padding: 20px;
                display: inline-block;
            }

            .not-active {
                background: #fff;
                color: #6a11cb;
            }
        </style>
    </head>
    <body>
        <nav>
            <ul>
                <li>about</li>
                <li>work</li>
                <li>contact</li>
            </ul>
        </nav>

        <div class="panel">
            Creates a new standalone ScrollTrigger instance. You don't need to put ScrollTriggers directly into animations (though that's probably the most common use case). With a standalone
            ScrollTrigger, you can tap into the rich callback system to do almost anything.
        </div>
        <!-- <div class="box"></div>
        <div class="panel"></div> -->

        <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.3/gsap.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.3/ScrollTrigger.min.js"></script>
        <script>
            gsap.registerPlugin(ScrollTrigger);

            ScrollTrigger.create({
                trigger: ".panel",
                start: "top 6%",
                markers: true,
                toggleClass: { targets: "nav", className: "not-active" },
                onEnter: () => console.log("onEnter"),
                onLeave: () => console.log("onLeave"),
                onEnterBack: () => console.log("onLeave"),
                onLeaveBack: () => console.log("onLeaveBack"),
            });
        </script>

        <script>
            // 기본 애니메이션
            // gsap.to(".square", {
            //     x: 1500,
            //     duration: 3,
            //     scrollTrigger: {
            //         trigger: ".square",
            //         start: "top 70%",
            //         end: "top 30%",
            //         end: () => `+=${document.querySelector(".square").offsetHeight}`,
            //         markers: {
            //             startColor: "blue",
            //             endColor: "red",
            //             fontSize: "30px",
            //         },
            //         toggleClass: "red",
            //         toggleActions: "restart none none none",
            //     },
            // });

            // 애니메이션 재생, 일시정지, 재시작 등 효과
            // toggleActions: "restart pause resume reset",
            // onEnter onLeave onEnterBack onLeaveBack
            // "play", "pause", "resume", "reset", "restart", "complete", "reverse", and "none"

            // 스크롤에 따라 움직이는 문지르는 효과
            // scrub: true,
            // scrub: 4,

            // 고정
            // pin: true,
            // pinSpacing: true,

            // 타임라인
            // gsap.to(".square", { x: 1000, duration: 2, rotation: 100, borderRadius: 100 });
            // gsap.to(".square", { y: 500, duration: 2, rotation: 0, borderRadius: 50, delay: 2 });
            // gsap.to(".square", { x: 0, duration: 2, rotation: 300, width: 400, delay: 4 });
            // gsap.to(".square", { y: 0, duration: 2, rotation: 0, width: 200, borderRadius: 0, delay: 6 });

            // const tl = gsap.timeline({ repeat: 2, yoyo: true });
            // tl.to(".square", { x: 1000, duration: 2, rotation: 100, borderRadius: 100, ease: "elastic" })
            //     .to(".square", { y: 500, duration: 2, rotation: 0, borderRadius: 50, ease: "elastic" })
            //     .to(".square", { x: 0, duration: 2, rotation: 300, width: 400, ease: "elastic" })
            //     .to(".square", { y: 0, duration: 2, rotation: 0, width: 200, borderRadius: 0, ease: "elastic" });

            // const tl = gsap.timeline({
            //     scrollTrigger: {
            //         trigger: ".square",
            //         markers: true,
            //         start: "top 70%",
            //         end: "top 30%",
            //         scrub: "1",
            //     },
            // });

            // tl.to(".square", { x: 1500, duration: 2, rotation: 100, borderRadius: 100 })
            //     .to(".square", { y: 500, duration: 2, rotation: 0, borderRadius: 50 })
            //     .to(".square", { x: 0, duration: 2, rotation: 300, width: 400 })
            //     .to(".square", { y: 0, duration: 2, rotation: 0, width: 200, borderRadius: 0 });
        </script>
    </body>
</html>
