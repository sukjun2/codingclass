<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>자바스크립트 : 슬라이드 이펙트04</title>

    <link rel="stylesheet" href="../assets/css/style.css">
    <link rel="stylesheet" href="../assets/css/dracula.css">
</head>

<body>
    <header id="header">
    </header>
    <!-- //header -->

    <main id="main">
        <div class="document">
            <h2 class="t_tit">sliderEffect04 - 버튼</h2>
            <p class="t_desc2">
                네번째 슬라이드 이펙트 - 버튼으로 다음/이전 이미지로 넘어가도록 하였습니다.
            </p>

            <hr>

            <h3 class="t_tit2">참고</h3>
            <p class="t_box">
                슬라이드 이펙트 04 페이지 우측하단 소스 보기를 클릭하시면 JAVASCRIPT, HTML, CSS를 확인할 수 있습니다.<br>
            </p>

            <div class="t_iframe" style="min-height: 950px; padding-top: 0;">
                <iframe src="https://sukjun2.github.io/coding2/javascript/effect/sliderEffect04.html"
                    frameborder="0"></iframe>
            </div>

            <div class="t_link" style="display: flex;">
                <a href="https://github.com/sukjun2/coding2/blob/main/javascript/effect/sliderEffect04.html">원본 소스
                    보기</a>
                <a href="https://sukjun2.github.io/coding2/javascript/effect/sliderEffect.html">메인 페이지 보기</a>
            </div>

            <h3 class="t_tit2">JAVASCRIPT</h3>
            <p class="t_box">
                사용할 변수를 선언합니다. 이미지가 좌/우로 넘어갈 때 애니메이션 효과를 주었으며, 먼저 선언한 sliderWidth = 이미지의 가로값px만큼 이동하게 합니다.<br>
                prev 버튼과 next 버튼에 이벤트를 주면 끝입니다.<br>
                (prev 버튼에는 현재이미지 + (이미지 개수 - 1) % 이미지 개수를 통하여 이전 이미지로 넘어가도록)<br>
                (next 버튼에는 현재이미지 + 1 % 이미지 개수를 통하여 다음 이미지로 넘어가도록)
            </p>
            <div class="t_code">
                <pre><code class="language-js">const sliderWrap = document.querySelector(".slider__wrap");
const sliderImg = document.querySelector(".slider__img");       // 보여지는 영역
const sliderInner = document.querySelector(".slider__inner");   // 움직이는 영역
const slider = document.querySelectorAll(".slider");            // 각각 이미지
const sliderBtn = document.querySelector(".slider__btn");    // 버튼
const sliderBtnPrev = document.querySelector(".prev");    // 왼쪽버튼
const sliderBtnNext = document.querySelector(".next");    // 오른쪽버튼

let currentIndex = 0;                       // 현재 이미지
let sliderCount = slider.length             // 이미지 개수
let sliderWidth = sliderImg.offsetWidth     // 이미지 가로값

// 이미지 움직이는 영역
function gotoSlider(num) {
    sliderInner.style.transition = "all 400ms";
    sliderInner.style.transform = "translateX(" + -sliderWidth * num + "px)";
    currentIndex = num;
    // console.log(currentIndex)
}

// 왼쪽 버튼 클릭
sliderBtnPrev.addEventListener("click", () => {
    let prevIndex = (currentIndex + (sliderCount - 1)) % sliderCount;

    gotoSlider(prevIndex);
    // if (prevIndex &gt; 0) {
    //     gotoSlider(4);
    // }
});

// 오른쪽 버튼 클릭
sliderBtnNext.addEventListener("click", () => {
    let nextIndex = (currentIndex + 1) % sliderCount;
    gotoSlider(nextIndex);
    // 0 1 2 3 4
});
</code></pre>
            </div>
        </div>
    </main>
    <!-- //main -->

    <footer id="footer">
        <a href="mailto:tjrwns3650@gmail.com">tjrwns3650@gmail.com</a>
    </footer>
    <!-- //footer -->

    <script src="../assets/js/highlight.min.js"></script>
    <script src="../assets/js/common.js"></script>
    <script>
        hljs.highlightAll();
    </script>

</body>

</html>